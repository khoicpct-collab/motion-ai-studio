<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Motion Studio - T·∫°o chuy·ªÉn ƒë·ªông th√¥ng minh tr√™n GIF</title>
    <meta name="description" content="·ª®ng d·ª•ng AI t·∫°o l·ªõp chuy·ªÉn ƒë·ªông th·ª±c t·∫ø tr√™n GIF/·∫£nh v·ªõi c√¥ng c·ª• v·∫Ω nh∆∞ PowerPoint">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Segoe+UI:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Application CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé¨</text></svg>">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0078D4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Facebook/OpenGraph Tags -->
    <meta property="og:title" content="AI Motion Studio - T·∫°o animation chuy√™n nghi·ªáp">
    <meta property="og:description" content="·ª®ng d·ª•ng AI t·∫°o l·ªõp chuy·ªÉn ƒë·ªông th·ª±c t·∫ø tr√™n GIF/·∫£nh">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://i.imgur.com/6hL3O4y.png">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AI Motion Studio">
    <meta name="twitter:description" content="T·∫°o animation AI tr√™n GIF mi·ªÖn ph√≠">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loader">
            <div class="ai-loader">
                <i class="fas fa-brain"></i>
                <div class="pulse-ring"></div>
                <div class="pulse-ring delay-1"></div>
                <div class="pulse-ring delay-2"></div>
            </div>
            <h2>AI Motion Studio</h2>
            <p>ƒêang kh·ªüi t·∫°o AI v√† c√¥ng c·ª•...</p>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- Main Application Container -->
    <div id="app" class="app-container hidden">
        <!-- PowerPoint-like Ribbon -->
        <div class="ribbon">
            <div class="ribbon-tabs">
                <button class="tab active" data-tab="file">
                    <i class="fas fa-file"></i> File
                </button>
                <button class="tab" data-tab="home">
                    <i class="fas fa-home"></i> Home
                </button>
                <button class="tab" data-tab="draw">
                    <i class="fas fa-pen"></i> Draw
                </button>
                <button class="tab" data-tab="animation">
                    <i class="fas fa-play-circle"></i> Animation
                </button>
                <button class="tab" data-tab="ai">
                    <i class="fas fa-brain"></i> AI
                </button>
                <button class="tab" data-tab="export">
                    <i class="fas fa-download"></i> Export
                </button>
            </div>
            
            <div class="ribbon-content">
                <!-- File Tab -->
                <div class="tab-content active" id="file-tab">
                    <div class="tool-group">
                        <h4>Project</h4>
                        <button class="ribbon-btn" id="new-project">
                            <i class="fas fa-plus"></i> New
                        </button>
                        <button class="ribbon-btn" id="save-project">
                            <i class="fas fa-save"></i> Save
                        </button>
                        <button class="ribbon-btn" id="load-project">
                            <i class="fas fa-folder-open"></i> Open
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Import</h4>
                        <button class="ribbon-btn" id="upload-bg">
                            <i class="fas fa-images"></i> Background
                        </button>
                        <button class="ribbon-btn" id="upload-material">
                            <i class="fas fa-shapes"></i> Material
                        </button>
                        <button class="ribbon-btn" id="import-preset">
                            <i class="fas fa-file-import"></i> Preset
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Examples</h4>
                        <button class="ribbon-btn" id="load-demo">
                            <i class="fas fa-play-circle"></i> Demo
                        </button>
                        <button class="ribbon-btn" id="tutorial">
                            <i class="fas fa-graduation-cap"></i> Tutorial
                        </button>
                    </div>
                </div>
                
                <!-- Home Tab -->
                <div class="tab-content" id="home-tab">
                    <div class="tool-group">
                        <h4>Selection</h4>
                        <button class="tool-btn" data-tool="select">
                            <i class="fas fa-mouse-pointer"></i> Select
                        </button>
                        <button class="tool-btn" data-tool="lasso">
                            <i class="fas fa-draw-polygon"></i> Lasso
                        </button>
                        <button class="tool-btn" data-tool="magic-wand">
                            <i class="fas fa-magic"></i> Magic Wand
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Transform</h4>
                        <button class="tool-btn" data-tool="move">
                            <i class="fas fa-arrows-alt"></i> Move
                        </button>
                        <button class="tool-btn" data-tool="rotate">
                            <i class="fas fa-sync-alt"></i> Rotate
                        </button>
                        <button class="tool-btn" data-tool="scale">
                            <i class="fas fa-expand-alt"></i> Scale
                        </button>
                        <button class="tool-btn" data-tool="flip">
                            <i class="fas fa-exchange-alt"></i> Flip
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Arrange</h4>
                        <button class="ribbon-btn" id="bring-forward">
                            <i class="fas fa-layer-group"></i> Forward
                        </button>
                        <button class="ribbon-btn" id="send-backward">
                            <i class="fas fa-layer-group"></i> Backward
                        </button>
                        <button class="ribbon-btn" id="align-center">
                            <i class="fas fa-align-center"></i> Center
                        </button>
                    </div>
                </div>
                
                <!-- Draw Tab -->
                <div class="tab-content" id="draw-tab">
                    <div class="tool-group">
                        <h4>Shapes</h4>
                        <button class="tool-btn active" data-tool="pen">
                            <i class="fas fa-pen"></i> Pen
                        </button>
                        <button class="tool-btn" data-tool="rectangle">
                            <i class="fas fa-square"></i> Rectangle
                        </button>
                        <button class="tool-btn" data-tool="circle">
                            <i class="fas fa-circle"></i> Circle
                        </button>
                        <button class="tool-btn" data-tool="polygon">
                            <i class="fas fa-draw-polygon"></i> Polygon
                        </button>
                        <button class="tool-btn" data-tool="line">
                            <i class="fas fa-slash"></i> Line
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Edit</h4>
                        <button class="tool-btn" data-tool="edit-points">
                            <i class="fas fa-vector-square"></i> Edit Points
                        </button>
                        <button class="tool-btn" data-tool="smooth">
                            <i class="fas fa-wave-square"></i> Smooth
                        </button>
                        <button class="tool-btn" data-tool="simplify">
                            <i class="fas fa-stream"></i> Simplify
                        </button>
                        <button class="tool-btn" data-tool="offset">
                            <i class="fas fa-expand-arrows-alt"></i> Offset
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Modify</h4>
                        <button class="tool-btn" data-tool="erase">
                            <i class="fas fa-eraser"></i> Eraser
                        </button>
                        <button class="tool-btn" data-tool="fill">
                            <i class="fas fa-fill-drip"></i> Fill
                        </button>
                        <button class="tool-btn" data-tool="stroke">
                            <i class="fas fa-paint-brush"></i> Stroke
                        </button>
                        <button class="ribbon-btn" id="clear-all">
                            <i class="fas fa-trash"></i> Clear All
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Brush Settings</h4>
                        <div class="brush-settings">
                            <div class="brush-setting">
                                <label>Size:</label>
                                <input type="range" id="brush-size" min="1" max="50" value="3">
                                <span id="brush-size-value">3px</span>
                            </div>
                            <div class="brush-setting">
                                <label>Opacity:</label>
                                <input type="range" id="brush-opacity" min="10" max="100" value="100">
                                <span id="brush-opacity-value">100%</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Animation Tab -->
                <div class="tab-content" id="animation-tab">
                    <div class="tool-group">
                        <h4>Motion Type</h4>
                        <select id="motion-type" class="ribbon-select">
                            <option value="flow">Flow Direction</option>
                            <option value="follow">Follow Path</option>
                            <option value="swirl">Swirl Motion</option>
                            <option value="random">Random Walk</option>
                            <option value="pulse">Pulse Effect</option>
                            <option value="custom">Custom AI</option>
                        </select>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Direction Control</h4>
                        <div class="direction-grid">
                            <button class="dir-btn" data-dir="nw">‚Üñ</button>
                            <button class="dir-btn" data-dir="n">‚Üë</button>
                            <button class="dir-btn" data-dir="ne">‚Üó</button>
                            <button class="dir-btn" data-dir="w">‚Üê</button>
                            <button class="dir-btn active" data-dir="center">‚óã</button>
                            <button class="dir-btn" data-dir="e">‚Üí</button>
                            <button class="dir-btn" data-dir="sw">‚Üô</button>
                            <button class="dir-btn" data-dir="s">‚Üì</button>
                            <button class="dir-btn" data-dir="se">‚Üò</button>
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Speed & Timing</h4>
                        <div class="slider-group">
                            <label>Speed: <span id="speed-value">50</span>%</label>
                            <input type="range" id="speed-slider" min="1" max="100" value="50">
                        </div>
                        <div class="slider-group">
                            <label>Density: <span id="density-value">100</span></label>
                            <input type="range" id="density-slider" min="10" max="500" value="100">
                        </div>
                        <div class="slider-group">
                            <label>Duration: <span id="duration-value">3</span>s</label>
                            <input type="range" id="duration-slider" min="1" max="30" value="3">
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Physics</h4>
                        <div class="checkbox-group">
                            <input type="checkbox" id="gravity-toggle" checked>
                            <label for="gravity-toggle">Gravity</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="collision-toggle" checked>
                            <label for="collision-toggle">Collision</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="friction-toggle">
                            <label for="friction-toggle">Friction</label>
                        </div>
                    </div>
                </div>
                
                <!-- AI Tab -->
                <div class="tab-content" id="ai-tab">
                    <div class="tool-group">
                        <h4>AI Presets</h4>
                        <button class="ai-preset" data-preset="water-flow">
                            <i class="fas fa-tint"></i> Water Flow
                        </button>
                        <button class="ai-preset" data-preset="smoke">
                            <i class="fas fa-smog"></i> Smoke Effect
                        </button>
                        <button class="ai-preset" data-preset="fire">
                            <i class="fas fa-fire"></i> Fire Simulation
                        </button>
                        <button class="ai-preset" data-preset="particles">
                            <i class="fas fa-atom"></i> Particle System
                        </button>
                        <button class="ai-preset" data-preset="magic">
                            <i class="fas fa-wand-magic-sparkles"></i> Magic Dust
                        </button>
                        <button class="ai-preset" data-preset="custom-ai">
                            <i class="fas fa-robot"></i> Smart Suggest
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <h4>AI Intelligence</h4>
                        <div class="ai-option">
                            <input type="checkbox" id="auto-detect" checked>
                            <label for="auto-detect">Auto-detect best motion</label>
                        </div>
                        <div class="ai-option">
                            <input type="checkbox" id="smart-smoothing" checked>
                            <label for="smart-smoothing">Smart path smoothing</label>
                        </div>
                        <div class="ai-option">
                            <input type="checkbox" id="physics-realistic" checked>
                            <label for="physics-realistic">Realistic physics</label>
                        </div>
                        <div class="ai-option">
                            <input type="checkbox" id="color-adapt" checked>
                            <label for="color-adapt">Color adaptation</label>
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h4>AI Strength</h4>
                        <div class="slider-group">
                            <label>Creativity: <span id="creativity-value">75</span>%</label>
                            <input type="range" id="creativity-slider" min="0" max="100" value="75">
                        </div>
                        <div class="slider-group">
                            <label>Realism: <span id="realism-value">85</span>%</label>
                            <input type="range" id="realism-slider" min="0" max="100" value="85">
                        </div>
                        <button class="ribbon-btn" id="ai-optimize">
                            <i class="fas fa-bolt"></i> Optimize Now
                        </button>
                    </div>
                </div>
                
                <!-- Export Tab -->
                <div class="tab-content" id="export-tab">
                    <div class="tool-group">
                        <h4>Export Format</h4>
                        <div class="export-format-options">
                            <div class="export-option">
                                <input type="radio" name="export-format" id="gif-format" checked>
                                <label for="gif-format">
                                    <i class="fas fa-film"></i> GIF
                                </label>
                            </div>
                            <div class="export-option">
                                <input type="radio" name="export-format" id="mp4-format">
                                <label for="mp4-format">
                                    <i class="fas fa-video"></i> MP4
                                </label>
                            </div>
                            <div class="export-option">
                                <input type="radio" name="export-format" id="webm-format">
                                <label for="webm-format">
                                    <i class="fas fa-file-video"></i> WebM
                                </label>
                            </div>
                            <div class="export-option">
                                <input type="radio" name="export-format" id="png-seq-format">
                                <label for="png-seq-format">
                                    <i class="fas fa-images"></i> PNG Sequence
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Quality Settings</h4>
                        <div class="slider-group">
                            <label>Quality: <span id="quality-value">High</span></label>
                            <select id="quality-select" class="ribbon-select">
                                <option value="low">Low (Fast)</option>
                                <option value="medium">Medium</option>
                                <option value="high" selected>High</option>
                                <option value="ultra">Ultra (Best)</option>
                            </select>
                        </div>
                        
                        <div class="slider-group">
                            <label>FPS: <span id="fps-value">30</span></label>
                            <select id="fps-select" class="ribbon-select">
                                <option value="15">15 FPS</option>
                                <option value="24">24 FPS</option>
                                <option value="30" selected>30 FPS</option>
                                <option value="60">60 FPS</option>
                            </select>
                        </div>
                        
                        <div class="slider-group">
                            <label>Resolution:</label>
                            <select id="resolution-select" class="ribbon-select">
                                <option value="original">Original</option>
                                <option value="480p">480p (SD)</option>
                                <option value="720p">720p (HD)</option>
                                <option value="1080p">1080p (Full HD)</option>
                                <option value="4k">4K (Ultra HD)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h4>Export Actions</h4>
                        <button class="ribbon-btn btn-success" id="start-export">
                            <i class="fas fa-rocket"></i> Generate & Export
                        </button>
                        <button class="ribbon-btn" id="preview-export">
                            <i class="fas fa-eye"></i> Preview Export
                        </button>
                        <button class="ribbon-btn" id="share-project">
                            <i class="fas fa-share-alt"></i> Share Project
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Workspace -->
        <div class="workspace">
            <!-- Canvas Container -->
            <div class="canvas-container">
                <div class="canvas-header">
                    <div class="canvas-info">
                        <span id="canvas-size">800 x 600</span>
                        <span id="canvas-zoom">100%</span>
                        <span id="canvas-fps">0 FPS</span>
                    </div>
                    
                    <div class="canvas-actions">
                        <button class="canvas-btn" id="zoom-in" title="Zoom In">
                            <i class="fas fa-search-plus"></i>
                        </button>
                        <button class="canvas-btn" id="zoom-out" title="Zoom Out">
                            <i class="fas fa-search-minus"></i>
                        </button>
                        <button class="canvas-btn" id="zoom-fit" title="Fit to Screen">
                            <i class="fas fa-expand-arrows-alt"></i>
                        </button>
                        <button class="canvas-btn" id="grid-toggle" title="Toggle Grid">
                            <i class="fas fa-th"></i>
                        </button>
                        <button class="canvas-btn" id="rulers-toggle" title="Toggle Rulers">
                            <i class="fas fa-ruler-combined"></i>
                        </button>
                    </div>
                </div>
                
                <div class="canvas-wrapper">
                    <!-- Main Drawing Canvas -->
                    <canvas id="main-canvas"></canvas>
                    
                    <!-- Grid Overlay -->
                    <div class="grid-overlay" id="grid-overlay"></div>
                    
                    <!-- Direction Arrows Overlay -->
                    <div class="direction-overlay" id="direction-overlay">
                        <!-- 8-direction arrows will be positioned here -->
                    </div>
                    
                    <!-- Edit Points Overlay -->
                    <div class="edit-points-overlay" id="edit-points-overlay">
                        <!-- Bezier control points -->
                    </div>
                    
                    <!-- Selection Marquee -->
                    <div class="selection-marquee" id="selection-marquee"></div>
                    
                    <!-- Canvas Guides -->
                    <div class="canvas-guides" id="canvas-guides"></div>
                </div>
                
                <!-- Timeline & Preview Controls -->
                <div class="timeline-container">
                    <div class="timeline-header">
                        <h4><i class="fas fa-film"></i> Timeline</h4>
                        <div class="timeline-actions">
                            <button class="timeline-btn" id="add-keyframe" title="Add Keyframe">
                                <i class="fas fa-plus-circle"></i>
                            </button>
                            <button class="timeline-btn" id="remove-keyframe" title="Remove Keyframe">
                                <i class="fas fa-minus-circle"></i>
                            </button>
                            <button class="timeline-btn" id="loop-toggle" title="Toggle Loop" class="active">
                                <i class="fas fa-redo"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="timeline-scrubber">
                        <div class="scrubber-track" id="scrubber-track">
                            <div class="scrubber-playhead" id="scrubber-playhead"></div>
                            <div class="keyframes" id="keyframes-container"></div>
                        </div>
                        
                        <div class="scrubber-controls">
                            <button class="scrubber-btn" id="goto-start" title="Go to Start">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button class="scrubber-btn" id="play-pause" title="Play/Pause">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="scrubber-btn" id="goto-end" title="Go to End">
                                <i class="fas fa-step-forward"></i>
                            </button>
                            
                            <div class="time-display">
                                <span id="current-time">0:00.00</span> / 
                                <span id="total-time">0:03.00</span>
                            </div>
                            
                            <div class="fps-display">
                                <i class="fas fa-tachometer-alt"></i>
                                <span id="current-fps">0</span> FPS
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Properties & Layers Panel -->
            <div class="properties-panel">
                <div class="panel-tabs">
                    <button class="panel-tab active" data-panel="layers">
                        <i class="fas fa-layer-group"></i> Layers
                    </button>
                    <button class="panel-tab" data-panel="properties">
                        <i class="fas fa-sliders-h"></i> Properties
                    </button>
                    <button class="panel-tab" data-panel="assets">
                        <i class="fas fa-box-open"></i> Assets
                    </button>
                    <button class="panel-tab" data-panel="history">
                        <i class="fas fa-history"></i> History
                    </button>
                </div>
                
                <!-- Layers Panel -->
                <div class="panel-content active" id="layers-panel">
                    <div class="layer-actions">
                        <button class="layer-action-btn" id="add-layer" title="Add Layer">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="layer-action-btn" id="duplicate-layer" title="Duplicate Layer">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="layer-action-btn" id="delete-layer" title="Delete Layer">
                            <i class="fas fa-trash"></i>
                        </button>
                        <button class="layer-action-btn" id="group-layers" title="Group Layers">
                            <i class="fas fa-object-group"></i>
                        </button>
                    </div>
                    
                    <div class="layer-list" id="layer-list">
                        <!-- Dynamic layers will be added here -->
                        <div class="layer-item" data-layer-id="background">
                            <div class="layer-controls">
                                <input type="checkbox" class="layer-visible" checked>
                                <input type="checkbox" class="layer-locked">
                            </div>
                            <div class="layer-info">
                                <i class="fas fa-image layer-icon"></i>
                                <span class="layer-name">Background</span>
                                <span class="layer-type">GIF</span>
                            </div>
                            <div class="layer-actions">
                                <button class="layer-action" title="Edit Layer">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="layer-item" data-layer-id="motion-path">
                            <div class="layer-controls">
                                <input type="checkbox" class="layer-visible" checked>
                                <input type="checkbox" class="layer-locked">
                            </div>
                            <div class="layer-info">
                                <i class="fas fa-draw-polygon layer-icon"></i>
                                <span class="layer-name">Motion Path</span>
                                <span class="layer-type">Path</span>
                            </div>
                            <div class="layer-actions">
                                <button class="layer-action" title="Edit Layer">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="layer-item" data-layer-id="particles">
                            <div class="layer-controls">
                                <input type="checkbox" class="layer-visible" checked>
                                <input type="checkbox" class="layer-locked">
                            </div>
                            <div class="layer-info">
                                <i class="fas fa-atom layer-icon"></i>
                                <span class="layer-name">Particles</span>
                                <span class="layer-type">Effect</span>
                            </div>
                            <div class="layer-actions">
                                <button class="layer-action" title="Edit Layer">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Properties Panel -->
                <div class="panel-content" id="properties-panel">
                    <div class="property-group" id="selection-properties">
                        <h4>Selection Properties</h4>
                        <div class="property-empty">
                            <i class="fas fa-mouse-pointer"></i>
                            <p>Select an object to see its properties</p>
                        </div>
                    </div>
                    
                    <div class="property-group" id="path-properties">
                        <h4>Path Properties</h4>
                        <div class="property-item">
                            <label>Stroke Color:</label>
                            <input type="color" id="stroke-color" value="#10b981">
                        </div>
                        <div class="property-item">
                            <label>Stroke Width:</label>
                            <input type="range" id="stroke-width" min="1" max="20" value="3">
                            <span id="stroke-width-value">3px</span>
                        </div>
                        <div class="property-item">
                            <label>Fill Color:</label>
                            <input type="color" id="fill-color" value="#10b98122">
                        </div>
                        <div class="property-item">
                            <label>Opacity:</label>
                            <input type="range" id="path-opacity" min="0" max="100" value="100">
                            <span id="path-opacity-value">100%</span>
                        </div>
                    </div>
                    
                    <div class="property-group" id="motion-properties">
                        <h4>Motion Properties</h4>
                        <div class="property-item">
                            <label>Motion Type:</label>
                            <select id="motion-type-property">
                                <option value="flow">Flow Direction</option>
                                <option value="follow">Follow Path</option>
                                <option value="swirl">Swirl Motion</option>
                            </select>
                        </div>
                        <div class="property-item">
                            <label>Speed:</label>
                            <input type="range" id="motion-speed" min="0.1" max="5" step="0.1" value="1">
                            <span id="motion-speed-value">1.0x</span>
                        </div>
                        <div class="property-item">
                            <label>Particle Count:</label>
                            <input type="range" id="particle-count" min="10" max="1000" value="200">
                            <span id="particle-count-value">200</span>
                        </div>
                        <div class="property-item">
                            <label>Particle Size:</label>
                            <input type="range" id="particle-size" min="1" max="50" value="10">
                            <span id="particle-size-value">10px</span>
                        </div>
                    </div>
                </div>
                
                <!-- Assets Panel -->
                <div class="panel-content" id="assets-panel">
                    <div class="assets-upload">
                        <div class="drop-zone" id="assets-drop-zone">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drop assets here or</p>
                            <button class="btn-small" id="browse-assets">Browse</button>
                        </div>
                    </div>
                    
                    <div class="assets-library">
                        <div class="asset-category">
                            <h5>Materials</h5>
                            <div class="asset-grid" id="materials-grid">
                                <!-- Material assets will be added here -->
                            </div>
                        </div>
                        
                        <div class="asset-category">
                            <h5>Presets</h5>
                            <div class="asset-grid" id="presets-grid">
                                <!-- Motion presets will be added here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- History Panel -->
                <div class="panel-content" id="history-panel">
                    <div class="history-actions">
                        <button class="history-btn" id="undo-btn" disabled>
                            <i class="fas fa-undo"></i> Undo
                        </button>
                        <button class="history-btn" id="redo-btn" disabled>
                            <i class="fas fa-redo"></i> Redo
                        </button>
                        <button class="history-btn" id="clear-history">
                            <i class="fas fa-trash"></i> Clear
                        </button>
                    </div>
                    
                    <div class="history-list" id="history-list">
                        <!-- History items will be added here -->
                        <div class="history-item">
                            <i class="fas fa-plus"></i>
                            <span>Project created</span>
                            <span class="history-time">Just now</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">
                <i class="fas fa-mouse-pointer"></i>
                <span id="tool-status">Select Tool</span>
            </div>
            <div class="status-item">
                <i class="fas fa-layer-group"></i>
                <span id="layer-status">3 layers</span>
            </div>
            <div class="status-item">
                <i class="fas fa-bolt"></i>
                <span id="ai-status">AI: Ready</span>
            </div>
            <div class="status-item">
                <i class="fas fa-memory"></i>
                <span id="memory-status">Memory: Low</span>
            </div>
            <div class="status-item">
                <i class="fas fa-download"></i>
                <span id="export-status">Ready to export</span>
            </div>
            <div class="status-item" id="coords-display">
                <i class="fas fa-crosshairs"></i>
                <span>X: 0, Y: 0</span>
            </div>
        </div>
        
        <!-- Export Progress Modal -->
        <div class="modal-overlay" id="export-modal" style="display: none;">
            <div class="modal-content export-modal">
                <div class="modal-header">
                    <h3><i class="fas fa-rocket"></i> Exporting Animation</h3>
                    <button class="modal-close" id="close-export-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="export-progress-container">
                        <div class="export-info">
                            <div class="info-item">
                                <span class="info-label">Format:</span>
                                <span id="export-format-info">GIF</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">FPS:</span>
                                <span id="export-fps-info">30</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Duration:</span>
                                <span id="export-duration-info">3.0s</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Size:</span>
                                <span id="export-size-info">800x600</span>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="export-progress-fill" style="width: 0%"></div>
                            </div>
                            <div class="progress-text">
                                <span id="export-progress-text">Initializing...</span>
                                <span id="export-progress-percent">0%</span>
                            </div>
                        </div>
                        
                        <div class="export-steps">
                            <div class="export-step active" data-step="1">
                                <i class="fas fa-cog"></i>
                                <span>Preparing</span>
                            </div>
                            <div class="export-step" data-step="2">
                                <i class="fas fa-film"></i>
                                <span>Rendering</span>
                            </div>
                            <div class="export-step" data-step="3">
                                <i class="fas fa-magic"></i>
                                <span>Processing</span>
                            </div>
                            <div class="export-step" data-step="4">
                                <i class="fas fa-download"></i>
                                <span>Finalizing</span>
                            </div>
                        </div>
                        
                        <div class="export-preview">
                            <canvas id="export-preview-canvas"></canvas>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="cancel-export">Cancel</button>
                    <button class="btn btn-primary" id="pause-export" style="display: none;">
                        <i class="fas fa-pause"></i> Pause
                    </button>
                </div>
            </div>
        </div>
        
        <!-- AI Processing Modal -->
        <div class="modal-overlay" id="ai-modal" style="display: none;">
            <div class="modal-content ai-modal">
                <div class="modal-header">
                    <h3><i class="fas fa-brain"></i> AI Processing</h3>
                </div>
                <div class="modal-body">
                    <div class="ai-processing">
                        <div class="ai-loader-large">
                            <i class="fas fa-brain"></i>
                            <div class="pulse-ring"></div>
                            <div class="pulse-ring delay-1"></div>
                            <div class="pulse-ring delay-2"></div>
                        </div>
                        <h4>AI is optimizing your animation</h4>
                        <p id="ai-processing-text">Analyzing motion paths...</p>
                        <div class="ai-details">
                            <div class="ai-detail">
                                <i class="fas fa-route"></i>
                                <span>Path smoothing</span>
                                <div class="ai-progress">
                                    <div class="ai-progress-fill" style="width: 75%"></div>
                                </div>
                            </div>
                            <div class="ai-detail">
                                <i class="fas fa-atom"></i>
                                <span>Physics simulation</span>
                                <div class="ai-progress">
                                    <div class="ai-progress-fill" style="width: 60%"></div>
                                </div>
                            </div>
                            <div class="ai-detail">
                                <i class="fas fa-palette"></i>
                                <span>Color adaptation</span>
                                <div class="ai-progress">
                                    <div class="ai-progress-fill" style="width: 45%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Tutorial Modal -->
        <div class="modal-overlay" id="tutorial-modal" style="display: none;">
            <div class="modal-content tutorial-modal">
                <div class="modal-header">
                    <h3><i class="fas fa-graduation-cap"></i> Quick Tutorial</h3>
                    <button class="modal-close" id="close-tutorial">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="tutorial-steps">
                        <div class="tutorial-step active">
                            <h4>Step 1: Upload Background</h4>
                            <p>Upload a GIF or image as your background layer</p>
                            <i class="fas fa-images tutorial-icon"></i>
                        </div>
                        <div class="tutorial-step">
                            <h4>Step 2: Draw Motion Path</h4>
                            <p>Use the pen tool to draw where you want motion to occur</p>
                            <i class="fas fa-draw-polygon tutorial-icon"></i>
                        </div>
                        <div class="tutorial-step">
                            <h4>Step 3: Set Motion Properties</h4>
                            <p>Choose direction, speed, and particle settings</p>
                            <i class="fas fa-sliders-h tutorial-icon"></i>
                        </div>
                        <div class="tutorial-step">
                            <h4>Step 4: Use AI Enhancement</h4>
                            <p>Let AI optimize the motion for realism</p>
                            <i class="fas fa-brain tutorial-icon"></i>
                        </div>
                        <div class="tutorial-step">
                            <h4>Step 5: Export Animation</h4>
                            <p>Export as GIF, MP4, or other formats</p>
                            <i class="fas fa-download tutorial-icon"></i>
                        </div>
                    </div>
                    
                    <div class="tutorial-navigation">
                        <button class="btn btn-secondary" id="prev-tutorial">Previous</button>
                        <button class="btn btn-primary" id="next-tutorial">Next</button>
                        <button class="btn btn-success" id="skip-tutorial">Skip Tutorial</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Welcome Notification -->
        <div class="welcome-notification" id="welcome-notification">
            <div class="welcome-content">
                <i class="fas fa-robot welcome-icon"></i>
                <div class="welcome-text">
                    <h4>Welcome to AI Motion Studio! üé¨</h4>
                    <p>Create professional motion overlays on GIFs with AI assistance</p>
                </div>
                <button class="welcome-close" id="close-welcome">&times;</button>
            </div>
        </div>
        
        <!-- Hidden File Inputs -->
        <input type="file" id="bg-file-input" accept="image/gif,video/*,image/*" hidden>
        <input type="file" id="material-file-input" accept="image/*" hidden>
        <input type="file" id="assets-file-input" accept="image/*,video/*" hidden multiple>
        
        <!-- Hidden Canvases for Export -->
        <canvas id="export-canvas" style="display: none;"></canvas>
        <canvas id="temp-canvas" style="display: none;"></canvas>
    </div>

    <!-- Application JavaScript -->
    <script src="app.js"></script>
    
    <!-- Service Worker for PWA -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').catch(err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
    
    <!-- Analytics (optional) -->
    <script>
        // Simple analytics
        window.addEventListener('load', () => {
            console.log('AI Motion Studio loaded successfully!');
            console.log('Visit: https://github.com/yourusername/motion-ai-studio');
        });
    </script>
</body>
</html>
